<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>jQuery Mobile Bootstrap Theme</title>
<link rel="stylesheet" href="themes/Bootstrap.css">
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.0/jquery.mobile.structure-1.4.0.min.css" />
<link rel="stylesheet" href="themes/jquery.mobile.icons.min.css" />
<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script type="text/javascript" charset="utf-8" src="phonegap-1.4.1.js"></script>
<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
<script src="http://code.jquery.com/mobile/1.4.0/jquery.mobile-1.4.0.min.js"></script>
<script language="JavaScript"
  type="text/javascript" src="xmlhttp.js"></script>
<!--<script language="JavaScript"
 type="text/javascript">
var http = new XMLHttpRequest();
var url = "get_data.php";
var params = "lorem=ipsum&name=binny";
http.open("POST", url, true);

//Send the proper header information along with the request
http.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
http.setRequestHeader("Content-length", params.length);
http.setRequestHeader("Connection", "close");

http.onreadystatechange = function() {//Call a function when the state changes.
    if(http.readyState == 4 && http.status == 200) {
        alert(http.responseText);
    }
}
http.send(params);
</script>-->
<script>
function validateForm() {
    var x = document.forms["login-form"]["name"].value;
    var y=document.forms["login-form"]["pwd"].value;
    if (x==null || x=="" ) {
        alert("User name must be filled out");
        return false;
    }
    if(y==null || y=="")
    {
        alert("Password must be filled out");
        return false;
    }
}
</script>
<script type="text/javascript">
        
    jQuery(document).ready(function(){
        
        jQuery(document).on('click','#loginbutton',function(){
            
           //event.preventDefault(); 
           var userId = encodeURIComponent(document.getElementById("name").value);
            var password = encodeURIComponent(document.getElementById("pwd").value);
            jQuery.ajax({
                type:'GET',
                url:"http://portanaturasi.com/wp-admin/admin-ajax.php?action=authenticate&somethingimportant=whatissoimportant&username="+userId+"&password="+password,            
                data:{},
                
            }).done(function(response){
                try{
                    var json = jQuery.parseJSON(response);
                }catch(ex){
                    alert(ex);
                }
                if(json.error==""){
                    alert("Login Successfull");
                   // window.open("http://www.w3schools.com");
                   window.location.href = 'categories.html';
                }else
                    alert(json.error);
            });
        });
        
    });
   
    
</script>

</head>
<body>
    
    <h1>Porta Natura</h1>
    <!--<div data-role="header" data-position="inline">
        <!--<a href="index.html" data-icon="delete" data-theme="c">Cancel</a>-->
<!--<h1>Porta Natura</h1>
<!--<a href="index.html" data-icon="check" data-theme="d">Save</a>-->
<!--</div>-->
<br>
<br>
<br>

    <form action="" method="get" name="login-form" onsubmit="return validateForm()">

<div data-role="fieldcontain">
<label for="name">User Name:</label>
<input type="text" name="name" id="name" value="" />
</div>
<div data-role="fieldcontain">
<label for="textarea">Password:</label>
<input type="password" name="pwd" id="pwd" value="" />
</div>

<div class="ui-body ui-body-d">

<div class="ui-block-d"><button id="loginbutton" type="button" data-theme="d" data-icon="arrow-r" data-iconpos="right" >Login User</button></div>

</div>


    </form>
</body>
</html>
